<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Car Driving Game</title>
  <style>
    body {
      margin: 0;
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: Arial, sans-serif;
      color: white;
    }
    canvas {
      background: #2b2b2b;
      border: 3px solid #fff;
    }
    .hint {
      position: absolute;
      bottom: 20px;
      font-size: 14px;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <canvas id="game" width="800" height="500"></canvas>
  <div class="hint">Use ⬅️ ➡️ ⬆️ ⬇️ to drive</div>

  <script>
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    // Car object
    const car = {
      x: canvas.width / 2,
      y: canvas.height - 100,
      width: 40,
      height: 70,
      speed: 0,
      maxSpeed: 6,
      acceleration: 0.2,
      friction: 0.05,
      angle: 0
    };

    const keys = {};

    document.addEventListener("keydown", e => keys[e.key] = true);
    document.addEventListener("keyup", e => keys[e.key] = false);

    function update() {
      // Accelerate / Brake
      if (keys["ArrowUp"]) car.speed += car.acceleration;
      if (keys["ArrowDown"]) car.speed -= car.acceleration;

      // Turning
      if (keys["ArrowLeft"]) car.angle -= 0.04;
      if (keys["ArrowRight"]) car.angle += 0.04;

      // Clamp speed
      car.speed = Math.max(-car.maxSpeed / 2, Math.min(car.speed, car.maxSpeed));

      // Friction
      if (car.speed > 0) car.speed -= car.friction;
      if (car.speed < 0) car.speed += car.friction;
      if (Math.abs(car.speed) < car.friction) car.speed = 0;

      // Move car
      car.x += Math.sin(car.angle) * car.speed;
      car.y -= Math.cos(car.angle) * car.speed;

      // Keep car inside screen
      car.x = Math.max(0, Math.min(canvas.width, car.x));
      car.y = Math.max(0, Math.min(canvas.height, car.y));
    }

    function drawCar() {
      ctx.save();
      ctx.translate(car.x, car.y);
      ctx.rotate(car.angle);
      ctx.fillStyle = "red";
      ctx.fillRect(-car.width / 2, -car.height / 2, car.width, car.height);
      ctx.fillStyle = "white";
      ctx.fillRect(-10, -car.height / 2 + 5, 20, 10); // windshield
      ctx.restore();
    }

    function drawRoad() {
      ctx.fillStyle = "#555";
      ctx.fillRect(150, 0, 500, canvas.height);

      ctx.strokeStyle = "#fff";
      ctx.setLineDash([20, 20]);
      ctx.beginPath();
      ctx.moveTo(canvas.width / 2, 0);
      ctx.lineTo(canvas.width / 2, canvas.height);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    function gameLoop() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawRoad();
      update();
      drawCar();
      requestAnimationFrame(gameLoop);
    }

    gameLoop();
  </script>
</body>
</html>
